export type Language = "en" | "fr" | "es";

const STORAGE_KEY = "tangoflow_language";

export function getSavedLanguage(): Language {
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved === "fr" || saved === "es") return saved;
  return "en";
}

export function saveLanguage(lang: Language) {
  localStorage.setItem(STORAGE_KEY, lang);
}

export const translations: Record<Language, Record<string, string>> = {
  en: {
    my_sets: "My Sets",
    my_sets_subtitle: "Plan your milonga evenings with precision and soul",
    new_set: "New Set",
    new_milonga_set: "New Milonga Set",
    no_sets_yet: "No sets yet",
    no_sets_description: "Create your first milonga set to start planning the perfect tango evening.",
    create_first_set: "Create Your First Set",
    import_backup: "Import backup",
    export_backup: "Export backup",
    backup_exported: "Backup exported",
    backup_exported_desc: "Your complete library has been saved.",
    set_imported: "Set imported",
    set_imported_desc: "has been added to your library.",
    backup_restored: "Backup restored",
    backup_restored_desc: "sets have been restored.",
    import_failed: "Import failed",
    import_failed_desc: "The file doesn't appear to be a valid TangoFlow backup.",
    starts: "Starts",
    tandas: "Tandas",
    orchestras: "Orchestras",
    delete: "Delete",

    tanda_library: "Tanda Library",
    create_tanda: "Create Tanda",
    search: "Search...",
    all: "All",
    create_first_tanda: "Create your first tanda",
    no_tandas_match: "No tandas match filters",
    drop_tanda_here: "Drop tanda here",
    set_not_found: "Set not found",
    go_home: "Go Home",
    import_set: "Import set",
    export_text: "Export as text",
    export_json: "Export as JSON",
    print: "Print",
    invalid_set_file: "Invalid set file.",
    export_venue: "Venue",
    export_date: "Date",
    export_start: "Start",
    export_empty_slot: "EMPTY SLOT",

    create_new_tanda: "Create New Tanda",
    orchestra: "Orchestra",
    search_orchestras: "Search orchestras...",
    type: "Type",
    tracks: "Tracks",
    singer_optional: "Singer / Config",
    select_singer_config: "Select singer/config...",
    instrumental: "Instrumental",
    energy: "Energy",
    base: "Base",
    override: "Override",
    add_tanda: "Add Tanda",
    tanda_mode: "Mode",
    tanda_mode_standard: "Standard",
    tanda_mode_mixed: "Mixed",
    mixed_tanda: "Mixed Tanda",
    add_orchestra: "Add Orchestra",
    remove_orchestra: "Remove",
    mixed_orchestras: "Orchestras in this tanda",
    mixed_validation_style: "Style mismatch: all orchestras must share the same style category",
    mixed_validation_energy: "Energy mismatch: all orchestras must be within ±1 energy",
    mixed_validation_era: "Era mismatch: all orchestras must be from the same era bracket",
    mixed_validation_min: "Add at least 2 orchestras for a mixed tanda",
    era_pre_golden: "Pre-Golden",
    era_golden_early: "Early Golden Age",
    era_golden_late: "Late Golden Age",
    era_post_golden: "Post-Golden",
    era_modern: "Modern",
    warning_mixed_tango: "Mixed tango tanda at slot {slot} — purists prefer single-orchestra tango tandas",

    set_name: "Set Name",
    venue: "Venue",
    optional: "Optional",
    date: "Date",
    start_time: "Start Time",
    duration: "Duration",
    avg_energy: "Avg Energy",
    type_distribution: "Type Distribution",
    style_distribution: "Style Distribution",

    energy_curve_empty: "Add at least 2 tandas to see the energy curve",

    orchestra_ref_count: "{subtitle} — {count} orchestras",
    orchestra_reference: "Orchestra Reference",
    orchestra_ref_subtitle: "Browse the golden age and beyond",
    orchestras_found: "{count} orchestras found",
    suggest_orchestra: "Suggest Orchestra",
    syncing: "Syncing...",
    last_synced: "Last synced",
    using_builtin_data: "Using built-in data",
    using_builtin_sync_failed: "Using built-in data (sync failed)",
    search_orchestras_ref: "Search orchestras...",
    all_styles: "All Styles",
    found: "found",
    no_orchestras_match: "No orchestras match your filters",
    key_singers: "Key singers",
    confidence: "Confidence",
    danceability: "Danceability",
    complexity: "Complexity",
    mood: "Mood",
    my_sets_nav: "My Sets",
    orchestras_nav: "Orchestras",

    style_harder_rhythmic: "Harder Rhythmic",
    style_softer_rhythmic: "Softer Rhythmic",
    style_smooth: "Smooth",
    style_lyrical: "Lyrical",
    style_dramatic: "Dramatic",
    style_old_guard: "Old Guard",
    style_transitional: "Transitional",
    style_modern_dance: "Modern Dance",
    style_neo_tango: "Neo Tango",
    style_alternative: "Alternative",

    style_desc_harder_rhythmic: "Prominent double-time accents. High physical energy.",
    style_desc_softer_rhythmic: "Rhythmic but gentler. Moderate-high energy.",
    style_desc_smooth: "Flowing, elegant, no dramatic pauses. Moderate energy.",
    style_desc_lyrical: "Singer-forward, romantic. Lower physical, higher emotional energy.",
    style_desc_dramatic: "Big crescendos, dramatic pauses, heavy beat. Intense.",
    style_desc_old_guard: "Pre-golden-age. Simple rhythms. Good for warm-up.",
    style_desc_transitional: "Post-golden-age concert-influenced sound. Challenging.",
    style_desc_modern_dance: "Contemporary orchestras in golden-age style.",
    style_desc_neo_tango: "Electronic elements mixed with tango.",
    style_desc_alternative: "Non-tango music adapted for tango dancing.",

    warning_back_to_back: "Same orchestra back-to-back: {name} (slots {from}-{to})",
    warning_consecutive_type: "3 consecutive {type}s (slots {from}-{to}) — add variety",
    warning_no_vals_early: "No vals in first 8 slots — dancers need variety",
    warning_no_milonga_early: "No milonga in first 10 slots",
    warning_energy_jump: "Energy jumps from {from} to {to} (slots {slotFrom}-{slotTo}) — consider a transition",
    warning_complex_early: "{name} too early (slot {slot}) — save for mid-evening when floor is warm",
    warning_suggest_warmup: "Consider {names} for warm-up (first 2 slots)",
    warning_suggest_cumparsita: "Tradition: end with La Cumparsita in the last slot",
    warning_low_tango: "Tango is only {percent}% — should be 50-75%",
    warning_high_tango: "Tango is {percent}% — consider more vals/milonga variety",
    warning_overused: "{name} appears {count} times — consider more variety",

    placement_warm_up: "Warm-up",
    placement_building: "Building",
    placement_peak: "Peak",
    placement_cool_down: "Cool-down",
    placement_wind_down: "Wind-down",
    placement_warm_up_notes: "Clear, simple rhythms. Help dancers find the beat.",
    placement_first_slots: "First 2-3 tandas",
    placement_building_slots: "Tandas 3-6",
    placement_peak_slots: "Mid-evening",
    placement_cool_down_slots: "After peak",
    placement_wind_down_slots: "Last 2-3 tandas",
  },

  fr: {
    my_sets: "Mes Sets",
    my_sets_subtitle: "Planifiez vos soirées milonga avec précision et âme",
    new_set: "Nouveau Set",
    new_milonga_set: "Nouveau Set Milonga",
    no_sets_yet: "Aucun set",
    no_sets_description: "Créez votre premier set milonga pour planifier la soirée tango parfaite.",
    create_first_set: "Créer votre premier set",
    import_backup: "Importer une sauvegarde",
    export_backup: "Exporter une sauvegarde",
    backup_exported: "Sauvegarde exportée",
    backup_exported_desc: "Votre bibliothèque complète a été sauvegardée.",
    set_imported: "Set importé",
    set_imported_desc: "a été ajouté à votre bibliothèque.",
    backup_restored: "Sauvegarde restaurée",
    backup_restored_desc: "sets ont été restaurés.",
    import_failed: "Échec de l'import",
    import_failed_desc: "Le fichier ne semble pas être une sauvegarde TangoFlow valide.",
    starts: "Début",
    tandas: "Tandas",
    orchestras: "Orchestres",
    delete: "Supprimer",

    tanda_library: "Bibliothèque de Tandas",
    create_tanda: "Créer une Tanda",
    search: "Rechercher...",
    all: "Tous",
    create_first_tanda: "Créez votre première tanda",
    no_tandas_match: "Aucune tanda ne correspond aux filtres",
    drop_tanda_here: "Déposez une tanda ici",
    set_not_found: "Set introuvable",
    go_home: "Retour à l'accueil",
    import_set: "Importer un set",
    export_text: "Exporter en texte",
    export_json: "Exporter en JSON",
    print: "Imprimer",
    invalid_set_file: "Fichier de set invalide.",
    export_venue: "Lieu",
    export_date: "Date",
    export_start: "Début",
    export_empty_slot: "CRÉNEAU VIDE",

    create_new_tanda: "Créer une nouvelle Tanda",
    orchestra: "Orchestre",
    search_orchestras: "Rechercher des orchestres...",
    type: "Type",
    tracks: "Morceaux",
    singer_optional: "Chanteur / Config",
    select_singer_config: "Sélectionner chanteur/config...",
    instrumental: "Instrumental",
    energy: "Énergie",
    base: "Base",
    override: "Ajustement",
    add_tanda: "Ajouter la Tanda",
    tanda_mode: "Mode",
    tanda_mode_standard: "Standard",
    tanda_mode_mixed: "Mixte",
    mixed_tanda: "Tanda Mixte",
    add_orchestra: "Ajouter un orchestre",
    remove_orchestra: "Retirer",
    mixed_orchestras: "Orchestres dans cette tanda",
    mixed_validation_style: "Styles incompatibles : tous les orchestres doivent partager la même catégorie de style",
    mixed_validation_energy: "Énergies incompatibles : tous les orchestres doivent être à ±1 d'énergie",
    mixed_validation_era: "Époques incompatibles : tous les orchestres doivent être de la même époque",
    mixed_validation_min: "Ajoutez au moins 2 orchestres pour une tanda mixte",
    era_pre_golden: "Pré-âge d'or",
    era_golden_early: "Début âge d'or",
    era_golden_late: "Fin âge d'or",
    era_post_golden: "Post-âge d'or",
    era_modern: "Moderne",
    warning_mixed_tango: "Tanda tango mixte au créneau {slot} — les puristes préfèrent les tandas tango d'un seul orchestre",

    set_name: "Nom du Set",
    venue: "Lieu",
    optional: "Optionnel",
    date: "Date",
    start_time: "Heure de début",
    duration: "Durée",
    avg_energy: "Énergie moy.",
    type_distribution: "Répartition par type",
    style_distribution: "Répartition par style",

    energy_curve_empty: "Ajoutez au moins 2 tandas pour voir la courbe d'énergie",

    orchestra_ref_count: "{subtitle} — {count} orchestres",
    orchestra_reference: "Référence Orchestres",
    orchestra_ref_subtitle: "Explorez l'âge d'or et au-delà",
    orchestras_found: "{count} orchestres trouvé(s)",
    suggest_orchestra: "Suggérer un orchestre",
    syncing: "Synchronisation...",
    last_synced: "Dernière synchro",
    using_builtin_data: "Données intégrées",
    using_builtin_sync_failed: "Données intégrées (échec de synchro)",
    search_orchestras_ref: "Rechercher des orchestres...",
    all_styles: "Tous les styles",
    found: "trouvé(s)",
    no_orchestras_match: "Aucun orchestre ne correspond à vos filtres",
    key_singers: "Chanteurs principaux",
    confidence: "Fiabilité",
    danceability: "Dansabilité",
    complexity: "Complexité",
    mood: "Ambiance",
    my_sets_nav: "Mes Sets",
    orchestras_nav: "Orchestres",

    style_harder_rhythmic: "Rythmique dur",
    style_softer_rhythmic: "Rythmique doux",
    style_smooth: "Lisse",
    style_lyrical: "Lyrique",
    style_dramatic: "Dramatique",
    style_old_guard: "Vieille garde",
    style_transitional: "Transitionnel",
    style_modern_dance: "Danse moderne",
    style_neo_tango: "Néo Tango",
    style_alternative: "Alternatif",

    style_desc_harder_rhythmic: "Accents en double-temps marqués. Haute énergie physique.",
    style_desc_softer_rhythmic: "Rythmique mais plus doux. Énergie modérée à haute.",
    style_desc_smooth: "Fluide, élégant, sans pauses dramatiques. Énergie modérée.",
    style_desc_lyrical: "Voix en avant, romantique. Énergie physique basse, émotionnelle haute.",
    style_desc_dramatic: "Grands crescendos, pauses dramatiques, rythme lourd. Intense.",
    style_desc_old_guard: "Pré-âge d'or. Rythmes simples. Bon pour l'échauffement.",
    style_desc_transitional: "Son post-âge d'or influencé par le concert. Exigeant.",
    style_desc_modern_dance: "Orchestres contemporains dans le style de l'âge d'or.",
    style_desc_neo_tango: "Éléments électroniques mélangés au tango.",
    style_desc_alternative: "Musique non-tango adaptée pour la danse tango.",

    warning_back_to_back: "Même orchestre consécutif : {name} (créneaux {from}-{to})",
    warning_consecutive_type: "3 {type}s consécutifs (créneaux {from}-{to}) — ajoutez de la variété",
    warning_no_vals_early: "Pas de vals dans les 8 premiers créneaux — les danseurs ont besoin de variété",
    warning_no_milonga_early: "Pas de milonga dans les 10 premiers créneaux",
    warning_energy_jump: "L'énergie saute de {from} à {to} (créneaux {slotFrom}-{slotTo}) — envisagez une transition",
    warning_complex_early: "{name} trop tôt (créneau {slot}) — gardez pour la mi-soirée quand la piste est chaude",
    warning_suggest_warmup: "Considérez {names} pour l'échauffement (2 premiers créneaux)",
    warning_suggest_cumparsita: "Tradition : terminez avec La Cumparsita dans le dernier créneau",
    warning_low_tango: "Le tango n'est qu'à {percent}% — devrait être entre 50 et 75%",
    warning_high_tango: "Le tango est à {percent}% — envisagez plus de vals/milonga",
    warning_overused: "{name} apparaît {count} fois — envisagez plus de variété",

    placement_warm_up: "Échauffement",
    placement_building: "Montée",
    placement_peak: "Pic",
    placement_cool_down: "Descente",
    placement_wind_down: "Fin de soirée",
    placement_warm_up_notes: "Rythmes clairs et simples. Aidez les danseurs à trouver le rythme.",
    placement_first_slots: "Premières 2-3 tandas",
    placement_building_slots: "Tandas 3-6",
    placement_peak_slots: "Mi-soirée",
    placement_cool_down_slots: "Après le pic",
    placement_wind_down_slots: "2-3 dernières tandas",
  },

  es: {
    my_sets: "Mis Sets",
    my_sets_subtitle: "Planifica tus veladas milongueras con precisión y alma",
    new_set: "Nuevo Set",
    new_milonga_set: "Nuevo Set de Milonga",
    no_sets_yet: "Sin sets todavía",
    no_sets_description: "Crea tu primer set de milonga para empezar a planificar la velada tanguera perfecta.",
    create_first_set: "Crear tu primer set",
    import_backup: "Importar respaldo",
    export_backup: "Exportar respaldo",
    backup_exported: "Respaldo exportado",
    backup_exported_desc: "Tu biblioteca completa ha sido guardada.",
    set_imported: "Set importado",
    set_imported_desc: "ha sido añadido a tu biblioteca.",
    backup_restored: "Respaldo restaurado",
    backup_restored_desc: "sets han sido restaurados.",
    import_failed: "Error de importación",
    import_failed_desc: "El archivo no parece ser un respaldo válido de TangoFlow.",
    starts: "Comienza",
    tandas: "Tandas",
    orchestras: "Orquestas",
    delete: "Eliminar",

    tanda_library: "Biblioteca de Tandas",
    create_tanda: "Crear Tanda",
    search: "Buscar...",
    all: "Todos",
    create_first_tanda: "Crea tu primera tanda",
    no_tandas_match: "Ninguna tanda coincide con los filtros",
    drop_tanda_here: "Suelta una tanda aquí",
    set_not_found: "Set no encontrado",
    go_home: "Ir al inicio",
    import_set: "Importar set",
    export_text: "Exportar como texto",
    export_json: "Exportar como JSON",
    print: "Imprimir",
    invalid_set_file: "Archivo de set inválido.",
    export_venue: "Lugar",
    export_date: "Fecha",
    export_start: "Inicio",
    export_empty_slot: "ESPACIO VACÍO",

    create_new_tanda: "Crear nueva Tanda",
    orchestra: "Orquesta",
    search_orchestras: "Buscar orquestas...",
    type: "Tipo",
    tracks: "Temas",
    singer_optional: "Cantante / Config",
    select_singer_config: "Seleccionar cantante/config...",
    instrumental: "Instrumental",
    energy: "Energía",
    base: "Base",
    override: "Ajuste",
    add_tanda: "Agregar Tanda",
    tanda_mode: "Modo",
    tanda_mode_standard: "Estándar",
    tanda_mode_mixed: "Mixta",
    mixed_tanda: "Tanda Mixta",
    add_orchestra: "Agregar orquesta",
    remove_orchestra: "Quitar",
    mixed_orchestras: "Orquestas en esta tanda",
    mixed_validation_style: "Estilos incompatibles: todas las orquestas deben compartir la misma categoría de estilo",
    mixed_validation_energy: "Energías incompatibles: todas las orquestas deben estar dentro de ±1 de energía",
    mixed_validation_era: "Épocas incompatibles: todas las orquestas deben ser de la misma época",
    mixed_validation_min: "Agrega al menos 2 orquestas para una tanda mixta",
    era_pre_golden: "Pre-época dorada",
    era_golden_early: "Inicio época dorada",
    era_golden_late: "Fin época dorada",
    era_post_golden: "Post-época dorada",
    era_modern: "Moderno",
    warning_mixed_tango: "Tanda tango mixta en espacio {slot} — los puristas prefieren tandas tango de una sola orquesta",

    set_name: "Nombre del Set",
    venue: "Lugar",
    optional: "Opcional",
    date: "Fecha",
    start_time: "Hora de inicio",
    duration: "Duración",
    avg_energy: "Energía prom.",
    type_distribution: "Distribución por tipo",
    style_distribution: "Distribución por estilo",

    energy_curve_empty: "Agrega al menos 2 tandas para ver la curva de energía",

    orchestra_ref_count: "{subtitle} — {count} orquestas",
    orchestra_reference: "Referencia de Orquestas",
    orchestra_ref_subtitle: "Explora la época dorada y más allá",
    orchestras_found: "{count} orquestas encontrada(s)",
    suggest_orchestra: "Sugerir Orquesta",
    syncing: "Sincronizando...",
    last_synced: "Última sinc.",
    using_builtin_data: "Datos integrados",
    using_builtin_sync_failed: "Datos integrados (fallo de sincronización)",
    search_orchestras_ref: "Buscar orquestas...",
    all_styles: "Todos los estilos",
    found: "encontrado(s)",
    no_orchestras_match: "Ninguna orquesta coincide con tus filtros",
    key_singers: "Cantantes principales",
    confidence: "Confianza",
    danceability: "Bailabilidad",
    complexity: "Complejidad",
    mood: "Ambiente",
    my_sets_nav: "Mis Sets",
    orchestras_nav: "Orquestas",

    style_harder_rhythmic: "Rítmico duro",
    style_softer_rhythmic: "Rítmico suave",
    style_smooth: "Suave",
    style_lyrical: "Lírico",
    style_dramatic: "Dramático",
    style_old_guard: "Guardia vieja",
    style_transitional: "Transicional",
    style_modern_dance: "Danza moderna",
    style_neo_tango: "Neo Tango",
    style_alternative: "Alternativo",

    style_desc_harder_rhythmic: "Acentos de doble tiempo prominentes. Alta energía física.",
    style_desc_softer_rhythmic: "Rítmico pero más suave. Energía moderada-alta.",
    style_desc_smooth: "Fluido, elegante, sin pausas dramáticas. Energía moderada.",
    style_desc_lyrical: "Voz al frente, romántico. Baja energía física, alta emocional.",
    style_desc_dramatic: "Grandes crescendos, pausas dramáticas, ritmo pesado. Intenso.",
    style_desc_old_guard: "Pre-época dorada. Ritmos simples. Bueno para el calentamiento.",
    style_desc_transitional: "Sonido post-época dorada influenciado por el concierto. Desafiante.",
    style_desc_modern_dance: "Orquestas contemporáneas en estilo de la época dorada.",
    style_desc_neo_tango: "Elementos electrónicos mezclados con tango.",
    style_desc_alternative: "Música no tango adaptada para el baile del tango.",

    warning_back_to_back: "Misma orquesta consecutiva: {name} (espacios {from}-{to})",
    warning_consecutive_type: "3 {type}s consecutivos (espacios {from}-{to}) — agrega variedad",
    warning_no_vals_early: "Sin vals en los primeros 8 espacios — los bailarines necesitan variedad",
    warning_no_milonga_early: "Sin milonga en los primeros 10 espacios",
    warning_energy_jump: "La energía salta de {from} a {to} (espacios {slotFrom}-{slotTo}) — considera una transición",
    warning_complex_early: "{name} muy temprano (espacio {slot}) — reserva para la mitad de la noche cuando la pista esté caliente",
    warning_suggest_warmup: "Considera {names} para el calentamiento (primeros 2 espacios)",
    warning_suggest_cumparsita: "Tradición: termina con La Cumparsita en el último espacio",
    warning_low_tango: "El tango es solo {percent}% — debería ser 50-75%",
    warning_high_tango: "El tango es {percent}% — considera más vals/milonga",
    warning_overused: "{name} aparece {count} veces — considera más variedad",

    placement_warm_up: "Calentamiento",
    placement_building: "Subida",
    placement_peak: "Pico",
    placement_cool_down: "Bajada",
    placement_wind_down: "Cierre",
    placement_warm_up_notes: "Ritmos claros y simples. Ayuda a los bailarines a encontrar el ritmo.",
    placement_first_slots: "Primeras 2-3 tandas",
    placement_building_slots: "Tandas 3-6",
    placement_peak_slots: "Mitad de la noche",
    placement_cool_down_slots: "Después del pico",
    placement_wind_down_slots: "Últimas 2-3 tandas",
  },
};
